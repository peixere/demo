{
    "type": "Ext.grid.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "autoRender": true,
        "height": 461,
        "id": "BuildingGrid",
        "width": 914,
        "designer|userClassName": "BuildingGrid",
        "designer|userAlias": "BuildingGrid",
        "header": false,
        "title": "建筑信息管理",
        "store": "BuildingStore"
    },
    "designerId": "f5516564-c584-4981-8f9b-e2c911d2176c",
    "cn": [
        {
            "type": "Ext.grid.column.Column",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "defaultWidth": 60,
                "dataIndex": "code",
                "text": "编码"
            },
            "designerId": "8600ac23-f3bc-4c0f-b43e-a3a8d4008f5e"
        },
        {
            "type": "Ext.grid.column.Column",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "defaultWidth": 180,
                "dataIndex": "name",
                "text": "名称"
            },
            "designerId": "707dd699-a445-4e99-a25a-d139b8ab8cbe"
        },
        {
            "type": "Ext.grid.column.Number",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dataIndex": "buildYear",
                "text": "建设年代"
            },
            "designerId": "910b7a56-9f3a-4c13-9d64-60cf39d7cac2"
        },
        {
            "type": "Ext.grid.column.Number",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dataIndex": "buildFloor",
                "text": "建筑层数（层）"
            },
            "designerId": "b9b10bb8-a76a-4f94-9d5d-83a58b70faf0"
        },
        {
            "type": "Ext.grid.column.Number",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoRender": false,
                "layout": null,
                "dataIndex": "buildArea",
                "text": "建筑总面积（平方米）"
            },
            "designerId": "9fd24fc3-56e7-4b23-a566-2277359bfeab"
        },
        {
            "type": "Ext.grid.column.Number",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dataIndex": "airconditioner",
                "text": "空调总面积（平方米）"
            },
            "designerId": "f79e5830-d80a-4d36-ac88-39de6cdf29ae"
        },
        {
            "type": "Ext.grid.column.Number",
            "reference": {
                "name": "columns",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dataIndex": "heatingArea",
                "text": "采暖总面积（平方米）"
            },
            "designerId": "cf5381bc-6353-46eb-a9a6-9f00955cfafd"
        },
        {
            "type": "Ext.grid.View",
            "reference": {
                "name": "viewConfig",
                "type": "object"
            },
            "codeClass": null,
            "designerId": "dc3f234e-cbbf-4e13-b593-419d6128de11"
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "designerId": "3f469587-2bed-4259-9ec7-a7fcb35cc028",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "id": "btnBdRef",
                        "iconCls": "icon-refresh",
                        "text": "刷新"
                    },
                    "designerId": "330a70fd-0f63-4b6f-88a8-c476af0a2c20",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnBdRefClick",
                                "implHandler": [
                                    "window.location.reload();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "b6790f19-d9da-467b-903c-12ccc5e63a1c"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "id": "btnBfNew",
                        "iconCls": "icon-add",
                        "text": "新增"
                    },
                    "designerId": "2132eea4-c097-4c10-bc47-9a904be889e4",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnBfAddClick",
                                "implHandler": [
                                    "this.openWinForm('');"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "d99c34a1-4c66-4d11-8964-36dcc038f6c4"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "id": "btnBfEdit",
                        "iconCls": "icon-edit",
                        "text": "修改"
                    },
                    "designerId": "34958df5-0c86-4037-92e0-ddaf70d54eb3",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnBfEditClick",
                                "implHandler": [
                                    "var selected = this.getSelectionModel().selected;\r",
                                    "var record = selected.items[0];\r",
                                    "if(!Ext.isEmpty(record))\r",
                                    "{\r",
                                    "    this.openWinForm(record.data.id);\r",
                                    "}\r",
                                    "else\r",
                                    "{ \r",
                                    "     Ext.Msg.show(\r",
                                    "    {\r",
                                    "        title : \"操作提示\",\r",
                                    "        msg : \"请选择要编辑的项!\",\r",
                                    "        icon : Ext.Msg.WARNING\r",
                                    "    }); \r",
                                    "    return;\r",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "3c9e365f-48de-4636-abc3-370a3964da4a"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "id": "btnBfDel",
                        "iconCls": "icon-del",
                        "text": "删除"
                    },
                    "designerId": "45bd291e-a975-4659-9a17-9f91119dde82",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnBfDelClick",
                                "implHandler": [
                                    "var selected = this.getSelectionModel().selected;\r",
                                    "var selecteditems = selected.items;\r",
                                    "\r",
                                    "if (selecteditems.length == 0)\r",
                                    "{\r",
                                    "    Ext.Msg.show(\r",
                                    "    {\r",
                                    "        title : \"操作提示\",\r",
                                    "        msg : \"请选择要删除的项!\",\r",
                                    "        icon : Ext.Msg.WARNING\r",
                                    "    });\r",
                                    "    return;\r",
                                    "}\r",
                                    "var ids = [];\r",
                                    "Ext.each(selecteditems, function()\r",
                                    "{\r",
                                    "    var nd = this;\r",
                                    "    ids.push(nd.data.id);\r",
                                    "});\r",
                                    "Ext.Msg.confirm(\"警告\", \"确定要删除吗？\", function(button)\r",
                                    "{\r",
                                    "    if (button == \"yes\")\r",
                                    "    {\r",
                                    "        Ext.Msg.wait(\"正在执行......\", \"操作提示\");\r",
                                    "        Ext.Ajax.request(\r",
                                    "        {\r",
                                    "            url : '../build!remove.do',\r",
                                    "            method : 'POST',\r",
                                    "            params :\r",
                                    "            {\r",
                                    "                id : ids.join(\",\")\r",
                                    "            },\r",
                                    "            success : function(response, options)\r",
                                    "            {\r",
                                    "                Ext.Msg.alert(\"删除提示\", \"删除成功\");\r",
                                    "                window.location.reload();\r",
                                    "            },\r",
                                    "            failure : function(response, options)\r",
                                    "            {\r",
                                    "                Ext.Msg.alert(\"删除提示\", \"删除失败\");\r",
                                    "            }\r",
                                    "        });\r",
                                    "    }\r",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "50b83484-4368-4be8-ae73-99af4cb97fea"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "openWinForm",
                "designer|params": [
                    "id"
                ],
                "implHandler": [
                    "var winform = Ext.create('ems.view.BuildingWin');\r",
                    "winform.getForm().bindData(id);\r",
                    "winform.show();"
                ]
            },
            "designerId": "1fb5f958-b4ea-4834-afdb-d627d82560fa"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "bindBfData",
                "designer|params": [
                    "id"
                ],
                "implHandler": [
                    "var store = Ext.getCmp('BuildingGrid').getStore(); \r",
                    "stroe.reload();"
                ]
            },
            "designerId": "2b9f28cd-58ae-454a-8289-b85578a3cb1e"
        }
    ]
}